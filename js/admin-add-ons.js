(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{cx4U:function(a,t,n){"use strict";n.r(t);var e=n("o0o1"),r=n.n(e),s=n("vDqi"),o=n.n(s),i=n("4HBT"),c=n.n(i);function d(a,t,n,e,r,s,o){try{var i=a[s](o),c=i.value}catch(a){return void n(a)}i.done?t(c):Promise.resolve(c).then(e,r)}function l(a){return function(){var t=this,n=arguments;return new Promise((function(e,r){var s=a.apply(t,n);function o(a){d(s,e,r,o,i,"next",a)}function i(a){d(s,e,r,o,i,"throw",a)}o(void 0)}))}}var v={middleware:["auth","verified","2fa_passed","admin"],metaInfo:function(){return{title:this.$t("Add-ons")}},mixins:[n("C3Ci").a],computed:{},data:function(){return{form:new c.a,data:{}}},created:function(){var a=this;return l(r.a.mark((function t(){var n,e;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.get("/api/admin/add-ons");case 2:n=t.sent,e=n.data,a.data=e;case 5:case"end":return t.stop()}}),t)})))()},methods:{disable:function(a){var t=this;return l(r.a.mark((function n(){var e,s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.form.post("/api/admin/add-ons/".concat(a,"/disable"));case 2:e=n.sent,s=e.data,t.$store.dispatch("message/"+(s.success?"success":"error"),{text:s.message}),s.success&&(t.data.packages[a].enabled=!1);case 6:case"end":return n.stop()}}),n)})))()},enable:function(a){var t=this;return l(r.a.mark((function n(){var e,s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.form.post("/api/admin/add-ons/".concat(a,"/enable"));case 2:e=n.sent,s=e.data,t.$store.dispatch("message/"+(s.success?"success":"error"),{text:s.message}),s.success&&(t.data.packages[a].enabled=!0);case 6:case"end":return n.stop()}}),n)})))()}}},u=n("KHd+"),p=n("ZUTo"),_=n.n(p),m=n("gzZi"),f=n("sK+t"),h=n("mdmw"),b=n("Yq0q"),x=n("pSOK"),w=n("D9m0"),g=Object(u.a)(v,(function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-card",{attrs:{loading:!a.data.packages}},[n("v-card-title",[a._v("\n          "+a._s(a.$t("Add-ons"))+"\n        ")]),a._v(" "),n("v-card-text",a._l(a.data.packages,(function(t,e){return n("v-row",{key:e},[n("v-col",[n("v-card",{attrs:{outlined:""}},[n("v-card-title",{staticClass:"font-weight-thin"},[a._v("\n                  "+a._s(t.name)+"\n                  "),t.enabled?[a._v("\n                    v"+a._s(t.version)+"\n                  ")]:a._e()],2),a._v(" "),n("v-card-text",[a._v("\n                  "+a._s(t.description)+"\n                ")]),a._v(" "),n("v-card-actions",[t.installed&&t.min_app_version_installed?[a.data.releases["add-ons"][e]&&a.data.releases["add-ons"][e].version!==t.version?[t.hash?n("v-btn",{attrs:{text:"",color:"primary",to:{name:"admin.add-ons.install",params:{id:e}}}},[a._v("\n                        "+a._s(a.$t("Upgrade to v{0}",[a.data.releases["add-ons"][e].version]))+"\n                      ")]):a._e()]:[t.hash?n("v-btn",{attrs:{text:"",color:"primary",to:{name:"admin.add-ons.install",params:{id:e}}}},[a._v("\n                        "+a._s(a.$t("Re-install"))+"\n                      ")]):a._e()],a._v(" "),t.enabled?n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return a.disable(e)}}},[a._v("\n                      "+a._s(a.$t("Disable"))+"\n                    ")]):n("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return a.enable(e)}}},[a._v("\n                      "+a._s(a.$t("Enable"))+"\n                    ")]),a._v(" "),n("v-btn",{attrs:{text:"",color:"primary",to:{name:"admin.add-ons.changelog",params:{id:e}}}},[a._v("\n                      "+a._s(a.$t("Changelog"))+"\n                    ")])]:t.installed&&!t.min_app_version_installed?[n("span",{staticClass:"pl-2 error--text"},[a._v(a._s(a.$t("App v{0} is required to enable this add-on",[t.min_app_version])))])]:[t.purchase_url?n("v-btn",{attrs:{text:"",color:"primary",href:t.purchase_url,target:"_blank"}},[a._v("\n                      "+a._s(a.$t("Purchase"))+"\n                    ")]):a._e(),a._v(" "),t.hash?n("v-btn",{attrs:{text:"",color:"primary",to:{name:"admin.add-ons.install",params:{id:e}}}},[a._v("\n                      "+a._s(a.$t("Install"))+"\n                    ")]):a._e()]],2)],1)],1)],1)})),1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=g.exports;_()(g,{VBtn:m.a,VCard:f.a,VCardActions:h.a,VCardText:h.c,VCardTitle:h.d,VCol:b.a,VContainer:x.a,VRow:w.a})}}]);
//# sourceMappingURL=admin-add-ons.js.map