(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{"84n/":function(e,t,r){"use strict";r.r(t);var a=r("ZMUr"),n=r("4FDZ"),o={middleware:["auth","verified","2fa_passed"],components:{FilterMenu:r("b205").a,DataTable:a.a,UserProfileModal:n.a},metaInfo:function(){return{title:this.$t("Leaderboard")}},data:function(){return{filters:{}}},computed:{headers:function(){return[{text:this.$t("Player"),value:"name"},{text:this.$t("Bets"),value:"bet_count",format:"integer",align:"right"},{text:this.$t("Wagered"),value:"bet_total",format:"decimal",align:"right"},{text:this.$t("Profit"),value:"profit_total",format:"decimal",align:"right"},{text:this.$t("Max profit"),value:"profit_max",format:"decimal",align:"right"}]}}},i=r("KHd+"),s=r("ZUTo"),l=r.n(s),c=r("ghKu"),u=r("sK+t"),d=r("mdmw"),p=r("Yq0q"),f=r("pSOK"),h=r("rdoz"),v=r("D9m0"),m=r("L6Q5"),b=r("cdmR"),y=r("Kn9U"),g=Object(i.a)(o,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12"}},[r("v-card",[r("v-toolbar",[r("v-toolbar-title",[e._v("\n            "+e._s(e.$t("Leaderboard"))+"\n          ")]),e._v(" "),r("v-spacer"),e._v(" "),r("filter-menu",{on:{apply:function(t){e.filters=t}}})],1),e._v(" "),r("v-card-text",[r("data-table",{attrs:{api:"/api/leaderboard",filters:e.filters,headers:e.headers,"sort-by":"bet_total"},scopedSlots:e._u([{key:"item.name",fn:function(t){var a=t.item;return[r("v-avatar",{attrs:{size:"25"}},[r("v-img",{attrs:{src:a.avatar_url}})],1),e._v(" "),r("user-profile-modal",{attrs:{user:{id:a.id,name:a.name}}})]}}])})],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=g.exports;l()(g,{VAvatar:c.a,VCard:u.a,VCardText:d.c,VCol:p.a,VContainer:f.a,VImg:h.a,VRow:v.a,VSpacer:m.a,VToolbar:b.a,VToolbarTitle:y.a})},ZMUr:function(e,t,r){"use strict";var a=r("o0o1"),n=r.n(a),o=r("vDqi"),i=r.n(o),s=r("L2JU"),l=r("ZXch"),c=r("/rcJ");function u(e,t,r,a,n,o,i){try{var s=e[o](i),l=s.value}catch(e){return void r(e)}s.done?t(l):Promise.resolve(l).then(a,n)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var h={name:"DataTable",props:{api:{type:String,required:!0},filters:{type:Object,required:!1,default:function(){return{}}},headers:{type:Array,required:!0},sortBy:{type:String,required:!1,default:"id"},sortDesc:{type:Boolean,required:!1,default:!0},searchEnabled:{type:Boolean,required:!1,default:!1},searchLabel:{type:String,required:!1,default:null},hideFooter:{type:Boolean,required:!1,default:!1}},data:function(){return{loading:!0,options:{},items:[],itemsTotal:0}},computed:p(p({},Object(s.c)({cacheGet:"cache/get"})),{},{cacheKey:function(){return"datatable."+this.$route.name},footerProps:function(){return{"items-per-page-options":[5,10,25,50],"items-per-page-text":this.$t("Rows per page")}},sortDirection:function(){return this.options.sortDesc?"desc":"asc"},slotHeaderMap:function(){return this.headers.reduce((function(e,t){return e["item."+t.value]=t,e}),{})}}),watch:{filters:function(e){this.fetchData()}},created:function(){this.options=this.cacheGet(this.cacheKey)||{page:1,itemsPerPage:10,sortBy:this.sortBy,sortDesc:this.sortDesc,search:null}},methods:p(p({},Object(s.b)({cachePut:"cache/put"})),{},{get:function(){return l.e.apply(void 0,arguments)},format:function(e,t){return"function"==typeof c[e]?c[e](t):t},updateDataTableOptions:function(e){var t=e.page,r=e.itemsPerPage,a=e.sortBy,n=e.sortDesc;this.options=p(p({},this.options),{},{page:t,itemsPerPage:r,sortBy:a[0],sortDesc:n[0]}),this.cacheOptions(),this.fetchData()},cacheOptions:function(){this.cachePut({key:this.cacheKey,value:this.options})},clear:function(){this.options.search=null,this.search()},search:function(){this.fetchData()},fetchData:function(){var e,t=this;return(e=n.a.mark((function e(){var r,a;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,i.a.get(t.api,{params:p({page:t.options.page,items_per_page:t.options.itemsPerPage,sort_by:t.options.sortBy,sort_direction:t.sortDirection,search:t.options.search},t.filters)});case 3:r=e.sent,a=r.data,t.items=a.items,t.itemsTotal=a.count,t.loading=!1;case 8:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(a,n){var o=e.apply(t,r);function i(e){u(o,a,n,i,s,"next",e)}function s(e){u(o,a,n,i,s,"throw",e)}i(void 0)}))})()}})},v=r("KHd+"),m=r("ZUTo"),b=r.n(m),y=r("Yq0q"),g=r("j+oE"),_=r("S9TP"),O=r("D9m0"),x=r("MSko"),P=r("hlRy"),$=Object(v.a)(h,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.searchEnabled?r("v-row",{attrs:{justify:"end"}},[r("v-col",{attrs:{cols:"12",md:"6",lg:"3"}},[r("v-form",{on:{submit:function(t){return t.preventDefault(),e.search(t)}}},[r("v-text-field",{attrs:{label:e.searchLabel||e.$t("Search"),"append-outer-icon":"mdi-magnify","single-line":"","hide-details":!0,clearable:""},on:{"click:clear":e.clear,"click:append-outer":e.search},model:{value:e.options.search,callback:function(t){e.$set(e.options,"search",t)},expression:"options.search"}})],1)],1)],1):e._e(),e._v(" "),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items,page:e.options.page,"sort-by":e.options.sortBy,"sort-desc":e.options.sortDesc,"items-per-page":e.options.itemsPerPage,"footer-props":e.footerProps,"server-items-length":e.itemsTotal,loading:e.loading,"must-sort":!0,"hide-default-footer":e.hideFooter,"no-data-text":e.$t("No data found"),"no-results-text":e.$t("No data found")},on:{"update:options":e.updateDataTableOptions},scopedSlots:e._u([{key:"loading",fn:function(){return e._l(Array(e.options.itemsPerPage).fill(0),(function(e,t){return r("div",{key:t,staticClass:"align-center my-7"},[r("v-skeleton-loader",{attrs:{type:"text"}})],1)}))},proxy:!0},e._l(e.slotHeaderMap,(function(t,r){return{key:r,fn:function(a){var n=a.item;return[e.$scopedSlots[r]?e._t(r,null,{item:n}):[e._v("\n        "+e._s(t.format?e.format(t.format,e.get(n,t.value)):e.get(n,t.value))+"\n      ")]]}}}))],null,!0)})],1)}),[],!1,null,null,null);t.a=$.exports;b()($,{VCol:y.a,VDataTable:g.a,VForm:_.a,VRow:O.a,VSkeletonLoader:x.a,VTextField:P.a})},b205:function(e,t,r){"use strict";var a={props:{disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{period:null,options:[{text:this.$t("This week"),value:"week"},{text:this.$t("Previous week"),value:"prev_week"},{text:this.$t("This month"),value:"month"},{text:this.$t("Previous month"),value:"prev_month"},{text:this.$t("This year"),value:"year"},{text:this.$t("Previous year"),value:"prev_year"},{text:this.$t("All time"),value:null}]}},methods:{change:function(){this.$emit("change",{period:this.period})}}},n=r("KHd+"),o=r("ZUTo"),i=r.n(o),s=r("uXRr"),l=Object(n.a)(a,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-select",{attrs:{items:e.options,label:e.$t("Period"),disabled:e.disabled,outlined:""},on:{change:e.change},model:{value:e.period,callback:function(t){e.period=t},expression:"period"}})}),[],!1,null,null,null),c=l.exports;i()(l,{VSelect:s.a});var u={props:{disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{period:"month",options:[{text:this.$t("Week"),value:"week"},{text:this.$t("Month"),value:"month"},{text:this.$t("Year"),value:"year"}]}},methods:{change:function(){this.$emit("change",{period:this.period})}}},d=Object(n.a)(u,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-select",{attrs:{items:e.options,label:e.$t("Period"),disabled:e.disabled,outlined:""},on:{change:e.change},model:{value:e.period,callback:function(t){e.period=t},expression:"period"}})}),[],!1,null,null,null),p=d.exports;i()(d,{VSelect:s.a});var f={props:{disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{roles:["user","bot","admin"],options:[{text:this.$t("User"),value:"user"},{text:this.$t("Bot"),value:"bot"},{text:this.$t("Admin"),value:"admin"}]}},methods:{change:function(){this.$emit("change",{roles:this.roles})}}},h=Object(n.a)(f,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-select",{attrs:{items:e.options,label:e.$t("Role"),disabled:e.disabled,outlined:"",multiple:""},on:{change:e.change},model:{value:e.roles,callback:function(t){e.roles=t},expression:"roles"}})}),[],!1,null,null,null),v=h.exports;function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}i()(h,{VSelect:s.a});var g={components:{FilterByPeriod:c,FilterByComparisonPeriod:p,FilterByRole:v},props:{components:{type:Array,required:!1,default:function(){return["period"]}},disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{menu:!1,filters:null}},methods:{change:function(e){this.filters=b(b({},this.filters),e)},apply:function(e){this.menu=!1,this.$emit("apply",this.filters)}}},_=r("gzZi"),O=r("sK+t"),x=r("mdmw"),P=r("zn5u"),$=r("Ey0z"),w=r("5Emp"),j=r("L6Q5"),D=Object(n.a)(g,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-menu",{attrs:{"close-on-content-click":!1,left:"","offset-x":"","nudge-width":200},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("v-btn",e._g({attrs:{icon:"",disabled:e.disabled}},a),[r("v-icon",[e._v("\n        mdi-filter-outline\n      ")])],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[e._v(" "),r("v-card",[r("v-card-title",[e._v("\n      "+e._s(e.$t("Filter"))+"\n    ")]),e._v(" "),r("v-divider"),e._v(" "),r("v-card-text",{staticClass:"pt-5"},e._l(e.components,(function(t){return r("filter-by-"+t,{key:t,tag:"component",on:{change:function(t){return e.change(t)}}})})),1),e._v(" "),r("v-card-actions",[r("v-spacer"),e._v(" "),r("v-btn",{attrs:{color:"primary",text:"",disabled:e.disabled},on:{click:e.apply}},[e._v("\n        "+e._s(e.$t("Apply"))+"\n      ")])],1)],1)],1)}),[],!1,null,null,null);t.a=D.exports;i()(D,{VBtn:_.a,VCard:O.a,VCardActions:x.a,VCardText:x.c,VCardTitle:x.d,VDivider:P.a,VIcon:$.a,VMenu:w.a,VSpacer:j.a})}}]);
//# sourceMappingURL=leaderboard.js.map