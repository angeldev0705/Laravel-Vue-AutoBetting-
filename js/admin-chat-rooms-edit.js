(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{YPYs:function(t,e,a){"use strict";a.r(e);var r=a("o0o1"),o=a.n(r),n=a("vDqi"),i=a.n(n),s=a("4HBT"),l=a.n(s),c=a("C3Ci"),m=a("Rc+0");function u(t,e,a,r,o,n,i){try{var s=t[n](i),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(r,o)}function d(t){return function(){var e=this,a=arguments;return new Promise((function(r,o){var n=t.apply(e,a);function i(t){u(n,r,o,i,s,"next",t)}function s(t){u(n,r,o,i,s,"throw",t)}i(void 0)}))}}var v={middleware:["auth","verified","2fa_passed","admin"],components:{ChatRoomMenu:a("w18/").a,Preloader:m.a},mixins:[c.a],props:["id"],metaInfo:function(){return{title:this.$t("Chat room {0}",[this.id])}},data:function(){return{room:null,form:new l.a({name:null,enabled:null})}},computed:{changed:function(){var t=this;return this.form.keys().some((function(e){return t.room&&t.form[e]!==t.room[e]}))}},created:function(){var t=this;return d(o.a.mark((function e(){var a,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/admin/chat/rooms/".concat(t.id));case 2:a=e.sent,r=a.data,t.room=r,t.form.keys().forEach((function(e){t.form[e]=t.room[e]}));case 6:case"end":return e.stop()}}),e)})))()},methods:{update:function(){var t=this;return d(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.form.patch("/api/admin/chat/rooms/".concat(t.id));case 2:t.$store.dispatch("message/success",{text:t.$t("Chat room successfully updated.")}),t.$router.push({name:"admin.chat.rooms.index"});case 4:case"end":return e.stop()}}),e)})))()}}},f=a("KHd+"),p=a("ZUTo"),h=a.n(p),b=a("gzZi"),_=a("sK+t"),V=a("mdmw"),w=a("Yq0q"),y=a("pSOK"),x=a("S9TP"),k=a("Ey0z"),$=a("D9m0"),g=a("MSko"),C=a("L6Q5"),I=a("tz1R"),T=a("hlRy"),E=a("cdmR"),S=a("Kn9U"),L=Object(f.a)(v,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",md:"6"}},[a("v-card",[a("v-toolbar",[a("v-btn",{attrs:{icon:""},on:{click:function(e){return t.$router.go(-1)}}},[a("v-icon",[t._v("mdi-arrow-left")])],1),t._v(" "),a("v-toolbar-title",[t._v("\n            "+t._s(t.$t("Chat room {0}",[t.id]))+"\n          ")]),t._v(" "),a("v-spacer"),t._v(" "),a("chat-room-menu",{attrs:{id:t.id}}),t._v(" "),a("preloader",{attrs:{active:!t.room}})],1),t._v(" "),a("v-card-text",[a("v-form",{on:{submit:function(e){return e.preventDefault(),t.update(e)}},model:{value:t.formIsValid,callback:function(e){t.formIsValid=e},expression:"formIsValid"}},[a("v-text-field",{attrs:{label:t.$t("Name"),type:"text",disabled:t.form.busy||!t.room,rules:[t.validationRequired],error:t.form.errors.has("name"),"error-messages":t.form.errors.get("name"),outlined:""},on:{keydown:function(e){return t.clearFormErrors(e,"name")}},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}}),t._v(" "),a("v-switch",{attrs:{label:t.$t("Enabled"),color:"primary",disabled:t.form.busy||!t.room,"false-value":0,"true-value":1},model:{value:t.form.enabled,callback:function(e){t.$set(t.form,"enabled",e)},expression:"form.enabled"}}),t._v(" "),a("v-skeleton-loader",{attrs:{type:"button",loading:!t.room}},[a("v-btn",{attrs:{type:"submit",color:"primary",disabled:!t.formIsValid||!t.changed||t.form.busy,loading:t.form.busy}},[t._v("\n                "+t._s(t.$t("Save"))+"\n              ")])],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=L.exports;h()(L,{VBtn:b.a,VCard:_.a,VCardText:V.c,VCol:w.a,VContainer:y.a,VForm:x.a,VIcon:k.a,VRow:$.a,VSkeletonLoader:g.a,VSpacer:C.a,VSwitch:I.a,VTextField:T.a,VToolbar:E.a,VToolbarTitle:S.a})},"w18/":function(t,e,a){"use strict";var r={props:["id","small"]},o=a("KHd+"),n=a("ZUTo"),i=a.n(n),s=a("gzZi"),l=a("Ey0z"),c=a("iGBT"),m=a("2hOt"),u=a("XSMC"),d=a("NMP6"),v=a("5Emp"),f=Object(o.a)(r,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-menu",{attrs:{"offset-y":!0,transition:"scroll-y-transition",bottom:"",left:""},scopedSlots:t._u([{key:"activator",fn:function(e){var r=e.on;return[a("v-btn",t._g({attrs:{icon:""}},r),[a("v-icon",{attrs:{small:t.small}},[t._v("mdi-dots-vertical")])],1)]}}])},[t._v(" "),a("v-list",[a("v-list-item",{attrs:{to:{name:"admin.chat.rooms.edit",params:{id:t.id}},exact:""}},[a("v-list-item-icon",[a("v-icon",{attrs:{small:t.small}},[t._v("mdi-pencil")])],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Edit")))])],1)],1),t._v(" "),a("v-list-item",{attrs:{to:{name:"admin.chat.rooms.delete",params:{id:t.id}},exact:""}},[a("v-list-item-icon",[a("v-icon",{attrs:{small:t.small}},[t._v("mdi-delete")])],1),t._v(" "),a("v-list-item-content",[a("v-list-item-title",[t._v(t._s(t.$t("Delete")))])],1)],1)],1)],1)}),[],!1,null,null,null);e.a=f.exports;i()(f,{VBtn:s.a,VIcon:l.a,VList:c.a,VListItem:m.a,VListItemContent:u.a,VListItemIcon:d.a,VListItemTitle:u.c,VMenu:v.a})}}]);
//# sourceMappingURL=admin-chat-rooms-edit.js.map