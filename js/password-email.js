(window.webpackJsonp=window.webpackJsonp||[]).push([[63],{"4JY7":function(e,t,r){"use strict";function a(){return(a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}var i=Object.prototype.hasOwnProperty;var n,o,c,s=(n=!1,o=[],c={resolved:function(){return n},resolve:function(e){if(!n){n=!0;for(var t=0,r=o.length;t<r;t++)o[t](e)}},promise:{then:function(e){n?e():o.push(e)}}},{notify:function(){c.resolve()},wait:function(){return c.promise},render:function(e,t,r){this.wait().then((function(){r(window.grecaptcha.render(e,t))}))},reset:function(e){void 0!==e&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.reset(e)})))},execute:function(e){void 0!==e&&(this.assertLoaded(),this.wait().then((function(){return window.grecaptcha.execute(e)})))},checkRecaptchaLoad:function(){i.call(window,"grecaptcha")&&i.call(window.grecaptcha,"render")&&this.notify()},assertLoaded:function(){if(!c.resolved())throw new Error("ReCAPTCHA has not been loaded")}});"undefined"!=typeof window&&(window.vueRecaptchaApiLoaded=s.notify);var l={name:"VueRecaptcha",props:{sitekey:{type:String,required:!0},theme:{type:String},badge:{type:String},type:{type:String},size:{type:String},tabindex:{type:String},loadRecaptchaScript:{type:Boolean,default:!1},recaptchaScriptId:{type:String,default:"__RECAPTCHA_SCRIPT"},recaptchaHost:{type:String,default:"www.google.com"},language:{type:String,default:""}},beforeMount:function(){if(this.loadRecaptchaScript&&!document.getElementById(this.recaptchaScriptId)){var e=document.createElement("script");e.id=this.recaptchaScriptId,e.src="https://"+this.recaptchaHost+"/recaptcha/api.js?onload=vueRecaptchaApiLoaded&render=explicit&hl="+this.language,e.async=!0,e.defer=!0,document.head.appendChild(e)}},mounted:function(){var e=this;s.checkRecaptchaLoad();var t=a({},this.$props,{callback:this.emitVerify,"expired-callback":this.emitExpired,"error-callback":this.emitError}),r=this.$slots.default?this.$el.children[0]:this.$el;s.render(r,t,(function(t){e.$widgetId=t,e.$emit("render",t)}))},methods:{reset:function(){s.reset(this.$widgetId)},execute:function(){s.execute(this.$widgetId)},emitVerify:function(e){this.$emit("verify",e)},emitExpired:function(){this.$emit("expired")},emitError:function(){this.$emit("error")}},render:function(e){return e("div",{},this.$slots.default)}};t.a=l},qpop:function(e,t,r){"use strict";r.r(t);var a=r("o0o1"),i=r.n(a),n=r("fpkf"),o=r("4HBT"),c=r.n(o),s=r("C3Ci");function l(e,t,r,a,i,n,o){try{var c=e[n](o),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(a,i)}var u={middleware:"guest",components:{VueRecaptcha:r("4JY7").a},mixins:[s.a],metaInfo:function(){return{title:this.$t("Password reset")}},data:function(){return{form:new c.a({email:null,recaptcha:null})}},computed:{appLogoUrl:function(){return Object(n.a)("app.logo")},recaptchaPublicKey:function(){return Object(n.a)("services.recaptcha.public_key")}},methods:{reset:function(){var e,t=this;return(e=i.a.mark((function e(){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.form.post("/api/auth/password/email").catch((function(){return t.recaptchaPublicKey&&(t.form.recaptcha=null,t.$refs.recaptcha.reset()),{}}));case 2:r=e.sent,(a=r.data)&&(t.$store.dispatch("message/success",{text:a.message}),t.form.reset(),t.$refs.recaptcha.reset(),t.$refs.form.reset());case 5:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(a,i){var n=e.apply(t,r);function o(e){l(n,a,i,o,c,"next",e)}function c(e){l(n,a,i,o,c,"throw",e)}o(void 0)}))})()}}},d=r("KHd+"),p=r("ZUTo"),f=r.n(p),h=r("ghKu"),m=r("gzZi"),v=r("sK+t"),w=r("mdmw"),y=r("Yq0q"),g=r("pSOK"),b=r("S9TP"),$=r("rdoz"),x=r("D9m0"),V=r("L6Q5"),S=r("hlRy"),k=r("cdmR"),R=r("Kn9U"),C=Object(d.a)(u,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{attrs:{align:"center",justify:"center"}},[r("v-col",{attrs:{cols:"12",sm:"8",md:"6",lg:"4"}},[r("v-card",{staticClass:"elevation-12"},[r("v-toolbar",{attrs:{color:"primary"}},[r("router-link",{attrs:{to:{name:"home"}}},[r("v-avatar",{attrs:{size:"40",tile:""}},[r("v-img",{attrs:{src:e.appLogoUrl}})],1)],1),e._v(" "),r("v-toolbar-title",{staticClass:"ml-2"},[e._v("\n            "+e._s(e.$t("Password reset"))+"\n          ")]),e._v(" "),r("v-spacer")],1),e._v(" "),r("v-card-text",[r("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.reset(t)}},model:{value:e.formIsValid,callback:function(t){e.formIsValid=t},expression:"formIsValid"}},[r("v-text-field",{attrs:{label:e.$t("Email"),type:"email",name:"email",rules:[e.validationRequired,e.validationEmail],error:e.form.errors.has("email"),"error-messages":e.form.errors.get("email"),outlined:""},on:{keydown:e.clearFormErrors},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}}),e._v(" "),e.recaptchaPublicKey?r("vue-recaptcha",{ref:"recaptcha",staticClass:"mb-3",attrs:{sitekey:e.recaptchaPublicKey,loadRecaptchaScript:!0,theme:this.$vuetify.theme.isDark?"dark":"light"},on:{verify:function(t){return e.form.recaptcha=t}}}):e._e(),e._v(" "),r("v-btn",{attrs:{type:"submit",color:"primary",disabled:!e.formIsValid||e.form.busy||!!e.recaptchaPublicKey&&!e.form.recaptcha,loading:e.form.busy}},[e._v("\n              "+e._s(e.$t("Reset"))+"\n            ")])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);t.default=C.exports;f()(C,{VAvatar:h.a,VBtn:m.a,VCard:v.a,VCardText:w.c,VCol:y.a,VContainer:g.a,VForm:b.a,VImg:$.a,VRow:x.a,VSpacer:V.a,VTextField:S.a,VToolbar:k.a,VToolbarTitle:R.a})}}]);
//# sourceMappingURL=password-email.js.map